<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Welcome to Beatmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="styles/style.css" rel="stylesheet" type="text/css" />
<style type="text/css">
p.news {
	font-size:11px;
	color:#666666;
	padding:0;
	margin:0;
}

#rightside p  {display: none}
</style>

<script type="text/javascript">
// Wait for all elements to load, then execute function init. We do this by attaching init function to the onload window event.
window.onload = init;

// function init declaration, function init attaches all events and starts  functions
function init() {
 //   attach event handlers to picture1 and picture2 to show and hide artist brief description
    document.getElementById('picture1').onmouseover = showscript6;
    document.getElementById("picture2").onmouseover = showscript6;
    document.getElementById('picture1').onmouseout = hidescript6;
    document.getElementById("picture2").onmouseout = hidescript6;
    // attaches event handler to onsubmit event of login form
   	document.getElementById('login').onsubmit = validateLogin;
    // every time the page loads check status function executes
    checkStatus();
    // start headlines script #12
    headlines();
}

// Login script by Juan David Lopez #3
 
// function login sets a cookie when a user submits the right user and password combination whick is juan and abc
function validateLogin() {
    // get values from form fields
 	  var user = document.getElementById("txtuser").value;
      var pass = document.getElementById("txtpass").value; 
      // if user is juan and password is abc a cookie is set, function loggedIn is called and the user is alerted that he is logged in with his name
 		if (user == "juan" && pass == "abc") {
			 document.cookie = "user="+user;
             document.cookie = "pass="+pass;
             loggedIn(user);                                      
             alert("You are now logged in " + user);
			}
   // else alert the user that the user and password is not correct  
			else  alert('The user name and password provided do not match');
            return false;		
	   }
       
  // function logged in changes the login form for a logout link             
       function loggedIn(user) {
             var header = document.getElementById("header");    
             var logout = document.createElement("a");
             var strLogout = document.createTextNode("Logout " + user);
             logout.appendChild(strLogout);              
             logout.href = "#";
             logout.id = "logout";
             logout.onclick = loggedOut;
             logout.style.marginLeft = "600px";
             back = header.replaceChild(logout, document.getElementById('login'));  
       }
      /* 
       everytime the page loads checkstatus is executed, it checks for a cookie, 
       if the cookie is set it calls the loggeIn function to display a logout link otherwise 
       the login form is displayed
       */
       function checkStatus() {
        var strCookie = document.cookie;
        var index1 = strCookie.indexOf("juan");
        var index1a = strCookie.indexOf(";", index1)
        var index2 = strCookie.indexOf("abc");
        if (index1 != -1 && index2 != -1) {
            var user = strCookie.substring(index1, index1a);
            loggedIn(user);
        }
    }
    
    /*
    loggedOut function destroys the cookie that is set and replaces the logout link
    for the login form
    */
    function loggedOut() {
        document.cookie = "user=;max-age=0";
        document.cookie = "pass=;max-age=0";
        var header = document.getElementById("header");
        var logout = document.getElementById("logout");                 
        header.replaceChild(back, document.getElementById('logout'));             
    }	

// End Login Functions

// #12 headlines
/*
 this script gets the div children of the rightside div
 we get the heading h3 of each of these children and attach a show event handler and change the cursor to pointer.
 */
function headlines() {
    //get rightside
    var rightside = document.getElementById("rightside");
    // get div children of rightside
    rightsideDivs =  rightside.getElementsByTagName('div');
    // loop through each div child and get h3 and attach events.
    for (var i = 0; i<rightsideDivs.length; i++) {
        var h3s = rightsideDivs[i].getElementsByTagName('h3');
        h3s[0].onclick = show;
        h3s[0].style.cursor = "pointer";    
    }
}

// this gets the p children of each div and shows it, attaches and replaces the event handler for a hide so that on the next click it hides again
function show() {
        this.onclick = hide;
        var parentDiv = this.parentNode;
        var parentDivps = parentDiv.getElementsByTagName('p');
        for (var i=0; i<parentDivps.length; i++) {
            parentDivps[i].style.display = "block";
        }
    }

// same as show but changes the style property to none
function hide() {
    this.onclick = show;
        var parentDiv = this.parentNode;
        var parentDivps = parentDiv.getElementsByTagName('p');
        for (var i=0; i<parentDivps.length; i++) {
            parentDivps[i].style.display = "none";
        }    
}


//start script #6
// these 2 function just take the first child of each picture div and displays it and hides it depending if the mouse is over or not
function showscript6() {
    this.firstChild.style.display = "block";
}

function hidescript6() {
    this.firstChild.style.display = "none";
}

</script>
</head>
<body>
<div id="central">
  	<div id="header"> 
        <form id="login" action="" method="">
       <p><label for="txtuser">User:</label> <input type="text" class="text" name="txtuser" id="txtuser"/><br/>
       <label for="txtpass">Password:</label> <input type="text" class="text" name="txtpass" id="txtpass"/><br/>
       <input type="submit" class="buttons" id="btnlogin" name="btnlogin" value="Login"/></p>
        </form>
  </div>
  	<ul id="navlist">
    	<li><span id="current"><a id="n1" href="#">Home</a></span></li>
    	<li><a id="n2" href="products.htm">Products</a></li>
    	<li><a id="n3" href="reviews.htm">Reviews</a></li>
    	<li><a id="n4" href="contact.htm">Enquiries</a></li>
  	</ul>
  	<div id="content">
    	<div id="leftside" >
      		<h3>Featured Artist</h3>
      		<div id="picture1"><p style="border: 4px double orange; display: none;  background-color: white; font-size: 11px">Richard David James (born 18 August 1971), aka Aphex Twin, is a British electronic musician described by The Guardian newspaper as "the most inventive and influential figure in contemporary electronic music."[1] He founded the record label Rephlex Records in 1991 with his friend Grant Wilson-Claridge.</p>
    	</div>
      		<h3>Featured Artist</h3>
      		<div id="picture2"><p style="border: 4px double orange; display: none;   background-color: white; font-size: 11px">Björk Guðmundsdóttir Bjork guthmundsdottir.ogg ['pjœr?k 'kv?ðm?nts?to?ht?r] (help·info) (born 21 November 1965) is an Icelandic singer-songwriter, composer, actress and music producer, whose work includes seven solo albums and two film soundtracks.</p></div>
    	</div>
    	<div id="rightside">
      		<div id="story1">
        		<h3>Spice Girls premiere new song</h3>
        		<p class="news"> <span style="font-style:italic;">Headlines (Friendship Never Ends)</span> is the first new single from the reformed girl band since 2000 and is the official Children In Need track for 2007.</p>

				<p class="news">Geri Halliwell, Victoria Beckham, Melanie Brown, Melanie Chisholm and Emma Bunton have regrouped to promote a new Spice Girls' greatest hits album and an upcoming world tour.  <a href="#">more ...</a></p>
                </div>

			<div id="story2">
        		<h3>Jay-Z defends Nas album title</h3>
        		<p class="news">Hip-hop mogul Jay-Z has defended Nas' decision to name his new album <span style="font-style:italic;">N**ger</span>, but insists the naming of the record is "misguided".</p>

				<p>Jay-Z - real name Shawn Carter - is releasing the LP under his label Island Def Jam Music Group, but admits he is not fond of its title.  <a href="#">more ...</a></p>
			</div>
			<div id="story3">
        		<h3>Winehouse defends MTV EMAs performance</h3>
        		<p class="news">Amy Winehouse has defended her performance at Thursday's MTV European Music Awards - citing exhaustion for her bizarre behaviour. <a href="#">more ...</a></p>
      		</div>
      		<div id="story4">
        		<h3>Green Day back Britney</h3>
        		<p class="news">Billie Joe Armstrong claims Britney Spears is "a manufactured child", who has been "thrown to the lions" by the world's media.</p> 
                <p>The Green Day singer has expressed his anger at the treatment the pop icon has been receiving in recent months, following her September appearance at the MTV Awards. <a href="#">more ...</a></p>
      		</div>
    	</div>
        <br style="clear:  both;" />
        <div id="gallery" style="margin-top:  10px; text-align: center">
        
        </div>
    <div id="footer">
      <p>Powered by
        <!-- Do not remove this see terms of use on http://www.freewebsitetemplates.com/termsofuse.htm -->
        <a href="http://www.freewebsitetemplates.com">Free Website Templates</a></p>
    </div>
  </div>
</div>
</body>
</html>